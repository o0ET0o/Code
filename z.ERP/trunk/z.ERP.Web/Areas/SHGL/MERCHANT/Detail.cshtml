@using z.ERP.Web.Areas.Share.Render
@using z.ERP.Entities.Enum
@using z.ERP.Web.Areas.Layout.Detail;
@using z.ERP.Entities;
@using z.Extensions;
@using z.ERP.Entities.Enum
@inherits DetailLayout<MERCHANTEntity> 

@section Title{
    @Html.Raw("详情");
}

@section btn{
    @{
        if (Model.STATUS == "1")
        {
            RenderControl(new ButtonRender()
            {
                Text = "审核",
                Click = "exec",
            });
        }
    }
}

@section content{
    <row>
        <i-col span="2" class="RowTitle">商户代码</i-col>
        <i-col span="4" class="RowText"> @Model.MERCHANTID </i-col>
        <i-col span="2" class="RowTitle">商户名称</i-col>
        <i-col span="4" class="RowText"> @Model.NAME </i-col>
        <i-col span="2" class="RowTitle">手机</i-col>
        <i-col span="4" class="RowText"> @Model.PHONE </i-col>
    </row>
    <row>
        <i-col span="2" class="RowTitle">银行名称</i-col>
        <i-col span="4" class="RowText"> @Model.BANK_NAME   </i-col>
        <i-col span="2" class="RowTitle">地址</i-col>
        <i-col span="4" class="RowText"> @Model.ADRESS   </i-col>
        <i-col span="2" class="RowTitle">状态</i-col>
        <i-col span="4" class="RowText"> @(Model.STATUS.ToEnum<普通单据状态>().ToLocalString()) </i-col>
    </row>


    <row>
       <i-col span="2" class="RowTitle">品牌名称</i-col>
       @*<i-col span="4" class="RowText"> @Model.BANK_NAME   </i-col>*@
       <i-col span="2" class="RowTitle">业态名称</i-col>
       @*<i-col span="4" class="RowText"> @Model.ADRESS   </i-col>*@
    </row>
}

@section foot{
    <script type="text/javascript">
        var ve = new Vue({
            el: '#detail_Main',
            data: {
                Mainpanel: 'condition',
                disabled:true
            },
            methods: {
                exec: function (event) {
                    event.stopPropagation();
                    var _self = this;
                    _.Ajax('ExecData', {
                        Data: {MERCHANTID: @Model.MERCHANTID},
                    }, function (data) {
                        _.Ajax('SearchMerchant', {
                            Data: { MERCHANTID: @Model.MERCHANTID }
                        }, function (data) {
                            @Model = data;
                            _self.$Message.info("审核成功");
                        });
                    });
                }
            }
        });
    </script>
}
